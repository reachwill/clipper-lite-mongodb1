webpackJsonp([1],{0:function(e,t,n){e.exports=n(532)},139:function(e,t){e.exports={domain:"http://localhost",port:"3001"}},151:function(e,t,n){"use strict";var o=n(18);t.contentHeaders=new o.Headers,t.contentHeaders.append("Accept","application/json"),t.contentHeaders.append("Content-Type","application/json")},247:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(3>i?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},i=n(4),s=function(){function e(){this.isRecording=!1,this.startClicked=new i.EventEmitter,this.endClicked=new i.EventEmitter,this.recordClicked=new i.EventEmitter,console.log("big red created")}return e.prototype.btnClicked=function(e){e.preventDefault(),this.isRecording=!this.isRecording,this.recordClicked.emit("event")},e.prototype.ngOnChanges=function(e){},e.prototype.ngAfterViewChecked=function(){},o([i.Input(),r("design:type",String)],e.prototype,"start",void 0),o([i.Input(),r("design:type",String)],e.prototype,"end",void 0),o([i.Output("startBtnClicked"),r("design:type",Object)],e.prototype,"startClicked",void 0),o([i.Output("endBtnClicked"),r("design:type",Object)],e.prototype,"endClicked",void 0),o([i.Output("recordBtnClicked"),r("design:type",Object)],e.prototype,"recordClicked",void 0),e=o([i.Component({selector:"big-red-button",template:'\n\n<form form-horizontal role="form" >\n  <div id="form-group">\n\n  <!--  <a class="btn btn-error " href="#" id="recordBtn" (click)="btnClicked($event)" [ngClass]="{\'icon-circle\': !isRecording, \'icon-stop\':isRecording }"></a>-->\n\n    <input class="btn btn-success col-md-2 col-md-offset-3 col-sm-3 col-sm-offset-2 col-xs-12" type="button" id="startTime" value={{start}} (click)="btnClicked($event)">\n\n    <input class="btn btn-danger col-md-2 col-md-offset-1 col-sm-3 col-xs-12 col-sm-offset-1" type="button" id="endTime" value={{end}} (click)="btnClicked($event)">\n\n </div>\n</form>\n  ',styles:["\n\n  "]}),r("design:paramtypes",[])],e)}();t.BigRedButton=s},248:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(3>i?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},i=n(4),s=function(){function e(){console.log("copy box created")}return o([i.Input(),r("design:type",String)],e.prototype,"shareURL",void 0),o([i.Input(),r("design:type",String)],e.prototype,"shareURLIsReady",void 0),e=o([i.Component({selector:"copy-box",template:'\n  \n    <input onClick="this.select();" readonly *ngIf="shareURLIsReady" id="copy-input" value="{{shareURL}}">\n    \n  ',styles:["\n    \n  "]}),r("design:paramtypes",[])],e)}();t.CopyBox=s},249:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(3>i?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},i=n(4),s=n(18),a=n(2),c="https://www.googleapis.com/youtube/v3/search",l="AIzaSyBbeuQDIFpMxnDNxPWhXOEVMpaBzgyMBjY",p=function(){function e(e){this.http=e}return e.prototype.getResults=function(e){return this.http.get(c+"?q="+e+"%20-channel&maxResults=50&part=snippet,id&key="+l).map(function(e){return e.json().items})["catch"](this.handleError)},e.prototype.handleError=function(e){return console.error(e),a.Observable["throw"](e.json().error||"Server error")},e=o([i.Injectable(),r("design:paramtypes",[s.Http])],e)}();t.YouTubeService=p},250:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(3>i?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},i=n(4),s=function(){function e(e){this._videoURL="https://www.youtube.com/watch?v=PaOYzsZdt5c",this._elementRef=e}return e.prototype.ngOnInit=function(){console.log("Init - Component initialized"),this.videoJSplayer=videojs(document.getElementById("player"),{},function(){})},e.prototype.ngAfterViewInit=function(){console.log("Init - Component View initialized "),void 0!=this.vidId&&this.videoJSplayer.src("http://www.youtube.com/embed/"+this.vidId)},e.prototype.ngOnDestroy=function(){console.log("Deinit - Destroyed Component"),this.videoJSplayer.dispose()},e.prototype.loadVideo=function(){console.log("load video")},o([i.Input(),r("design:type",String)],e.prototype,"vidId",void 0),e=o([i.Component({selector:"yt-player",template:'\n  <div class="player-container">\n    <video\n        id="player"\n        class="video-js vjs-default-skin"\n        controls\n\n        poster="media/clipper-logo-play-hires"\n        data-setup=\'{ "techOrder": ["youtube"], "sources": [{ "type": "video/youtube", "src": "https://www.youtube.com/watch?v=PaOYzsZdt5c"}] }\'\n    >\n    </video>\n  </div>\n  ',styles:["\n    .player-dimensions{\n\n    }\n  "]}),r("design:paramtypes",[i.ElementRef])],e)}();t.YTPlayer=s},315:function(e,t){e.exports='<nav class="navbar navbar-inverse">\n  <div class="container-fluid">\n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <a class="navbar-brand" href="#">&nbsp;</a>\n    </div>\n    <div class="collapse navbar-collapse" id="myNavbar">\n      <ul class="nav navbar-nav">\n        <li class="home" ><a href="/home">Home</a></li>\n        <li class="projects"><a  href="/projects">Projects</a></li>\n        <li class="people"><a  href="#">People</a></li>\n        <li class="editor"><a  href="/editor">Editor</a></li>\n      </ul>\n      <ul class="nav navbar-nav navbar-right">\n        <li class="signup"><a  href="/signup"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>\n        <li class="login"><a href="/login"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>\n        <li class="logout" (click)="logout()"><a href="/login"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>\n      </ul>\n    </div>\n  </div>\n</nav>\n\n\n\n<div class="container">\n  <router-outlet></router-outlet>\n</div>\n'},316:function(e,t){e.exports='<div >\n\n\n\n\n  <a href="#" class="search youtube-search" data-toggle="modal" data-target="#myModal" >Search <span class="glyphicon glyphicon-search"></span></a>\n\n  <yt-player [vidId]="_vidId" #movieplayer></yt-player>\n  <h3 *ngIf="response">{{response}}</h3>\n  <big-red-button [start]="_start" [end]="_end" (startBtnClicked)="startBtnClicked()" (endBtnClicked)="endBtnClicked()" (recordBtnClicked)="recordBtnClicked()">\n  </big-red-button>\n\n  <!-- <div class="home jumbotron centered">\n    <h1>Welcome to the angular2 authentication sample!</h1>\n    <h2 *ngIf="jwt">Your JWT is:</h2>\n    <pre *ngIf="jwt" class="jwt"><code>{{ jwt }}</code></pre>\n    <pre *ngIf="jwt" class="jwt"><code>{{ decodedJwt | json }}</code></pre>\n    <p>Click any of the buttons to call an API and get a response</p>\n    <p><a class="btn btn-primary btn-lg" role="button" (click)="callAnonymousApi()">Call Anonymous API</a></p>\n    <p><a class="btn btn-primary btn-lg" role="button" (click)="callSecuredApi()">Call Secure API</a></p>\n    <p><a class="btn btn-primary btn-lg" role="button" (click)="logout()">Logout</a></p>\n    <h2 *ngIf="response">The response of calling the <span class="red">{{api}}</span> API is:</h2>\n    <h3 *ngIf="response">{{response}}</h3>\n  </div> -->\n\n  <copy-box [shareURL]="_shareURL" [shareURLIsReady]="_shareURLIsReady"></copy-box>\n\n  <search id="searchBox" (^click)="searchResultClicked($event)" (resultClicked)="searchResultClicked($event)"></search>\n  <div id="edit-controls" *ngIf="_loggedIn">\n    <a (click)="save($event)" class="btn btn-default ">Save</a>\n  </div>\n\n\n</div>\n'},317:function(e,t){e.exports=".red {\n  color: red;\n}\n"},318:function(e,t){e.exports='<div class="content" class="jumbotron">\n\n  <p>Bacon ipsum dolor amet ball tip tenderloin chuck beef ribs tri-tip drumstick strip steak tail chicken pork landjaeger pork chop shankle leberkas. Pastrami ball tip spare ribs, shankle chuck porchetta frankfurter pancetta jerky boudin capicola landjaeger prosciutto tri-tip strip steak. Tenderloin salami pork chop chicken picanha drumstick cow kevin short ribs pork belly. Doner meatball tri-tip swine shank shoulder drumstick.</p>\n\n<p>Corned beef drumstick brisket shoulder, capicola rump meatball sausage porchetta tongue fatback beef bacon ball tip. Kielbasa andouille chicken landjaeger pig tri-tip. Flank turkey kielbasa, salami rump andouille tri-tip sausage swine ham cow. Pork chop pig jowl hamburger spare ribs pancetta kielbasa ground round sirloin ham.</p>\n\n<p>Sirloin pig tongue chicken corned beef brisket porchetta beef ribs. Frankfurter shankle chuck drumstick bresaola pork loin pork belly alcatra ground round. Pork pork loin ribeye shankle picanha porchetta spare ribs. Picanha jowl pork loin meatball cow. Brisket beef swine tail shankle corned beef pork. T-bone pig sausage corned beef frankfurter shankle.</p>\n\n<p>T-bone corned beef bacon, spare ribs picanha beef swine tail cow chicken tongue tri-tip cupim meatball. Drumstick porchetta brisket, venison prosciutto ham hock spare ribs ground round short ribs biltong ball tip ham beef short loin. Chuck kevin pancetta flank pork loin porchetta short ribs doner t-bone pastrami ham hock. Tri-tip boudin ball tip corned beef hamburger. Hamburger bacon chicken kevin porchetta strip steak pancetta beef tri-tip shoulder leberkas. Bacon filet mignon beef, boudin ham ball tip shank pancetta flank swine pork belly brisket jowl shoulder leberkas. Short ribs boudin ham pork chop ball tip tongue shankle.</p>\n\n<p>Swine meatball drumstick boudin turkey kevin. Cow brisket pig chuck shank pork loin pancetta spare ribs fatback beef. Short ribs tri-tip pork loin, sausage ball tip ground round prosciutto tongue. Bresaola tri-tip fatback alcatra swine pork frankfurter pork belly.</p>\n  <!-- <a class="btn btn-primary btn-lg" role="button" (click)="logout()">Logout</a>\n  <p>hello {{userName}}, click to go clip some videos!</p>\n  <a class="btn btn-primary btn-lg" role="button" href="editor">Editor</a> -->\n\n  <!-- <div class="home jumbotron centered">\n    <h1>Welcome to the angular2 authentication sample!</h1>\n    <h2 *ngIf="jwt">Your JWT is:</h2>\n    <pre *ngIf="jwt" class="jwt"><code>{{ jwt }}</code></pre>\n    <pre *ngIf="jwt" class="jwt"><code>{{ decodedJwt | json }}</code></pre>\n    <p>Click any of the buttons to call an API and get a response</p>\n    <p><a class="btn btn-primary btn-lg" role="button" (click)="callAnonymousApi()">Call Anonymous API</a></p>\n    <p><a class="btn btn-primary btn-lg" role="button" (click)="callSecuredApi()">Call Secure API</a></p>\n    <p><a class="btn btn-primary btn-lg" role="button" (click)="logout()">Logout</a></p>\n    <h2 *ngIf="response">The response of calling the <span class="red">{{api}}</span> API is:</h2>\n    <h3 *ngIf="response">{{response}}</h3>\n  </div> -->\n\n</div>\n'},319:function(e,t){e.exports=".login {\n  width: 40%;\n}\n"},320:function(e,t){e.exports='<div class="login center-block">\n\n    <form form-horizontal role="form" (submit)="login($event, username.value, password.value)">\n        <div class="form-group">\n            <label class="sr-only" for="username">Username</label>\n            <input type="text" #username class="form-control" id="username" placeholder="Username">\n        </div>\n        <div class="form-group">\n            <label class="sr-only" for="password">Password</label>\n            <input type="password" #password class="form-control" id="password" placeholder="Password">\n        </div>\n        <button type="submit" class="btn btn-success form-control">Login</button>\n        <hr>\n        <a href="/signup" class="btn btn-warning form-control" role="button">Click here to Signup</a>\n    </form>\n</div>\n'},321:function(e,t){e.exports=".signup {\n  width: 40%;\n}\n"},322:function(e,t){e.exports='<div class="signup center-block ">\n\n  <form form-horizontal role="form" (submit)="signup($event, username.value, password.value)">\n    <div class="form-group">\n      <label class="sr-only" for="username">Username</label>\n      <input type="text" #username class="form-control" id="username" placeholder="Username" required>\n    </div>\n    <div class="form-group">\n      <label class="sr-only" for="password">Password</label>\n      <input type="password" #password class="form-control" id="password" placeholder="Password">\n    </div>\n    <button type="submit" class="btn btn-success form-control">Sign Up</button>\n  </form>\n</div>\n'},525:function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(3>i?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},s=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}},a=n(4),c=n(21),l=function(e){function t(t,n,o,r){e.call(this,t,n,o,r),this.parentRouter=o,this.publicRoutes={login:!0,signup:!0,home:!0,editor:!0,projects:!1}}return o(t,e),t.prototype.activate=function(t){var n=t.urlPath;return this.publicRoutes[n]||localStorage.getItem("jwt")||this.parentRouter.navigateByUrl("/login"),e.prototype.activate.call(this,t)},t=r([a.Directive({selector:"router-outlet"}),s(3,a.Attribute("name")),i("design:paramtypes",[a.ElementRef,a.DynamicComponentLoader,c.Router,String])],t)}(c.RouterOutlet);t.LoggedInRouterOutlet=l},526:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(3>i?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},i=n(4),s=n(21),a=n(525),c=n(531),l=n(533),p=n(534),d=n(530),u=n(315),h=function(){function e(e){this.router=e,this.loggedIn=!1,localStorage.getItem("jwt")&&(this.loggedIn=!0)}return e.prototype.logout=function(){localStorage.removeItem("jwt"),this.router.parent.navigateByUrl("/login")},e=o([i.Component({selector:"auth-app",template:u,directives:[a.LoggedInRouterOutlet]}),s.RouteConfig([{path:"/",redirectTo:["/Home"]},{path:"/home",component:c.Home,as:"Home"},{path:"/login",component:l.Login,as:"Login"},{path:"/signup",component:p.Signup,as:"Signup"},{path:"/editor",component:d.Editor,as:"Editor",data:{isLoggedIn:localStorage.getItem("jwt")}}]),r("design:paramtypes",[s.Router])],e)}();t.App=h},527:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(3>i?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},i=n(4),s=n(528),a=n(247),c=n(250),l=n(248),p=n(20),d=n(45),u=n(21),h=function(){function e(e,t){this.router=e,this.authHttp=t,this.jwt=localStorage.getItem("jwt"),this.decodedJwt=this.jwt&&window.jwt_decode(this.jwt),console.log("editor created"),this._shareURLIsReady=!1,this._vidId=this.getQueryStringValue("id")}return e.prototype.logout=function(){localStorage.removeItem("jwt"),this.router.parent.navigateByUrl("/login")},e.prototype.toggleSearch=function(e){e.preventDefault(),$("#searchBox").toggle()},e.prototype.recordBtnClicked=function(e){console.log("record"),$(".player-container").toggleClass("red"),$(".player-container").hasClass("red")?(this._start=String(videojs("#player").currentTime().toFixed(1)),this._int=setInterval(function(){this._end=String(videojs("#player").currentTime().toFixed(1)),$("#endTime").val(this._end),console.log(this._end)},100)):(clearInterval(this._int),this._end=String(videojs("#player").currentTime().toFixed(1)),console.log(this._end),videojs("#player").pause()),this._shareURL="http://www.youtube.com/v/"+this._vidId+"?start="+this._start+"&end="+this._end+"&autoplay=1",this._shareURL.search("undefined")>-1?this._shareURLIsReady=!1:this._shareURLIsReady=!0,console.log(this._shareURL)},e.prototype.endBtnClicked=function(e){console.log("end"),clearInterval(this._int),this._end="end="+String(videojs("#player").currentTime().toFixed(1)),console.log(this._end)},e.prototype.startBtnClicked=function(e){console.log(this._ref),console.log("start"),this._start="start="+String(videojs("#player").currentTime().toFixed(1)),this._int=setInterval(function(){this._end="end="+String(videojs("#player").currentTime().toFixed(1)),$("#endTime").val(this._end)},66)},e.prototype.updateEnd=function(){console.log(String(videojs("#player").currentTime().toFixed(1)))},e.prototype.bigRedClicked=function(e){$(".player-container").toggleClass("red"),$(".player-container").hasClass("red")?this._start="start="+Math.round(videojs("#player").currentTime()):this._end="end="+Math.round(videojs("#player").currentTime()),this._shareURL="http://www.youtube.com/embed/"+this._vidId+"?start="+this._start+"&end="+this._end+"&autoplay=1",this._shareURL.search("undefined")>-1?this._shareURLIsReady=!1:this._shareURLIsReady=!0,console.log(this._shareURL)},e.prototype.searchResultClicked=function(e){videojs("#player").src({src:"https://www.youtube.com/watch?v="+e.id}),videojs("#player").play(),this._vidURL=videojs("#player").src().src+"&",this._vidId=this._vidURL.substr(this._vidURL.lastIndexOf("?")+3),$("#searchBox").fadeToggle()},e.prototype.getQueryStringValue=function(e){return unescape(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+escape(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},e=o([i.Component({selector:"my-editor",directives:[s.Search,c.YTPlayer,a.BigRedButton,l.CopyBox,p.CORE_DIRECTIVES],template:'\n\n<a class="btn btn-primary btn-lg" role="button" (click)="logout()">Logout</a>\n    <div id="edit-controls">\n        <a href="#" class="search" (click)="toggleSearch($event)"><span class="icon-search"></span></a>\n    </div>\n\n    <yt-player [vidId]="_vidId" #movieplayer></yt-player>\n    <big-red-button\n    [start]="_start"\n    [end]="_end"\n    (startBtnClicked)="startBtnClicked()"\n    (endBtnClicked)="endBtnClicked()"\n    (recordBtnClicked)="recordBtnClicked()">\n    </big-red-button>\n\n    <copy-box [shareURL]="_shareURL" [shareURLIsReady]="_shareURLIsReady"></copy-box>\n\n\n    <search id="searchBox" (^click)="searchResultClicked($event)" (resultClicked)="searchResultClicked($event)"></search>\n   '}),r("design:paramtypes",[u.Router,d.AuthHttp])],e)}();t.Editor=h},528:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(3>i?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},i=n(4),s=n(20),a=n(249),c=n(18),l=function(){function e(e){this.youtube=e,this.search=new s.Control,this.resultClicked=new i.EventEmitter,this.results=this.search.valueChanges.debounceTime(200).switchMap(function(t){return e.getResults(t)})}return e.prototype.itemClicked=function(e){e.preventDefault(),console.log(e.currentTarget),this.resultClicked.next(e.currentTarget)},o([i.Output(),r("design:type",Object)],e.prototype,"resultClicked",void 0),e=o([i.Component({selector:"search",providers:[a.YouTubeService,c.HTTP_PROVIDERS],template:'\n   <input [ngFormControl]="search" placeholder="search">\n\n    <ul>\n            <li  *ngFor="#video of results | async">\n                <a  href="#" data-id="{{video.id.videoId}}" (click)="itemClicked($event)" >\n                    <h3>{{video.snippet.title}}</h3>\n                    <p>{{video.snippet.description}}</p>\n                    <img [src]="video.snippet.thumbnails.default.url"/>\n                </a>\n            </li>\n\n    </ul>\n  ',styles:["\n\n  "]}),r("design:paramtypes",[a.YouTubeService])],e)}();t.Search=l},529:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(3>i?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},i=n(4),s=n(20),a=n(249),c=n(18),l=function(){function e(e){this.youtube=e,this.search=new s.Control,this.resultClicked=new i.EventEmitter,this.results=this.search.valueChanges.debounceTime(200).switchMap(function(t){return e.getResults(t)})}return e.prototype.itemClicked=function(e){e.preventDefault(),$("#myModal").modal("hide"),this.resultClicked.next(e.currentTarget)},o([i.Output(),r("design:type",Object)],e.prototype,"resultClicked",void 0),e=o([i.Component({selector:"search",providers:[a.YouTubeService,c.HTTP_PROVIDERS],directives:[],template:'\n  <div id="myModal" class="modal fade" role="dialog">\n  <div class="modal-dialog">\n\n  <div class="modal-content">\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal">&times;</button>\n          <form form-horizontal role="form" >\n          <input  class="form-control youtube-search" [ngFormControl]="search" placeholder="search youtube">\n          </form>\n        </div>\n        <div class="modal-body">\n        <ul>\n        <li  *ngFor="#video of results | async" >\n            <a  href="#" data-id="{{video.id.videoId}}" (click)="itemClicked($event)" >\n                <h3>{{video.snippet.title}}</h3>\n                <p>{{video.snippet.description}}</p>\n                <img [src]="video.snippet.thumbnails.default.url"/>\n            </a>\n        </li>\n\n        </ul>\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n        </div>\n      </div>\n\n\n\n\n\n\n    </div>\n    </div>\n  '}),r("design:paramtypes",[a.YouTubeService])],e)}();t.Search=l},530:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(3>i?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},i=n(4),s=n(20),a=n(18),c=n(45),l=n(21),p=n(151),d=n(529),u=n(247),h=n(250),f=n(248),g=n(316),y=n(139),m=function(){function e(e,t,n,o){this.router=e,this.http=t,this.authHttp=n,this._start="Start",this._end="Stop",this.userName=null,this._logData=""+o.get("isLoggedIn"),this._loggedIn="null"!=this._logData,this.jwt=localStorage.getItem("jwt"),this.decodedJwt=this.jwt&&window.jwt_decode(this.jwt),null!=this.decodedJwt&&(this.user=this.decodedJwt,this.userName=this.user.name,console.log(this.userName))}return e.prototype.logout=function(){localStorage.removeItem("jwt"),this.router.parent.navigateByUrl("/login")},e.prototype.toggleSearch=function(e){e.preventDefault()},e.prototype.save=function(e,t){e.preventDefault();var n=JSON.stringify({userName:this.userName});console.log(n),this.http.post(y.domain+":"+y.port+"/clip/save",n,{headers:p.contentHeaders}).subscribe(function(e){console.log(e.json())},function(e){alert(e.text()),console.log(e.text())})},e.prototype.recordBtnClicked=function(e){console.log("record"),$(".player-container").toggleClass("red"),$(".player-container").hasClass("red")?(this._start=String(videojs("#player").currentTime().toFixed(1)),this._int=setInterval(function(){this._end=String(videojs("#player").currentTime().toFixed(1)),$("#endTime").val(this._end)},100)):(clearInterval(this._int),this._end=String(videojs("#player").currentTime().toFixed(1)),videojs("#player").pause()),this._shareURL="http://www.youtube.com/v/"+this._vidId+"?start="+this._start+"&end="+this._end+"&autoplay=1",this._shareURL.search("undefined")>-1||this._shareURL.search("Start")>-1||this._shareURL.search("Stop")>-1?this._shareURLIsReady=!1:this._shareURLIsReady=!0,console.log(this._shareURL)},e.prototype.updateEnd=function(){console.log(String(videojs("#player").currentTime().toFixed(1)))},e.prototype.searchResultClicked=function(e){videojs("#player").src({src:"https://www.youtube.com/watch?v="+e.id}),videojs("#player").play(),this._vidURL=videojs("#player").src().src+"&",this._vidId=this._vidURL.substr(this._vidURL.lastIndexOf("?")+3)},e.prototype.getQueryStringValue=function(e){return unescape(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+escape(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},e.prototype.callAnonymousApi=function(){this._callApi("Anonymous",y.domain+":"+y.port+"/api/random-quote")},e.prototype.callSecuredApi=function(){this._callApi("Secured",y.domain+":"+y.port+"/api/protected/random-quote")},e.prototype.saveSecuredApi=function(){this._callApi("SecuredPost",y.domain+":"+y.port+"/api/protected/save")},e.prototype._callApi=function(e,t){var n=this;if(this.response=null,"Anonymous"===e&&this.http.get(t).subscribe(function(e){return n.response=e.text()},function(e){return n.response=e.text()}),"Secured"===e&&this.authHttp.get(t).subscribe(function(e){return n.response=e.text()},function(e){return n.response=e.text()}),"SecuredPost"===e){var o={text:"test"};this.authHttp.post(t,JSON.stringify(o)).subscribe(function(e){return n.response=e.text()},function(e){return n.response=e.text()})}},e=o([i.Component({selector:"editor",directives:[s.CORE_DIRECTIVES,u.BigRedButton,d.Search,h.YTPlayer,f.CopyBox],template:g}),r("design:paramtypes",[l.Router,a.Http,c.AuthHttp,l.RouteData])],e)}();t.Editor=m},531:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(3>i?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},i=n(4),s=n(20),a=n(18),c=n(45),l=n(21),p=n(527),d=n(317),u=n(318),h=function(){function e(e,t,n){this.router=e,this.http=t,this.authHttp=n,this.jwt=localStorage.getItem("jwt"),this.decodedJwt=this.jwt&&window.jwt_decode(this.jwt),this.user=this.decodedJwt}return e.prototype.logout=function(){localStorage.removeItem("jwt"),this.router.parent.navigateByUrl("/login")},e.prototype.callAnonymousApi=function(){this._callApi("Anonymous","http://localhost:3001/api/random-quote")},e.prototype.callSecuredApi=function(){this._callApi("Secured","http://localhost:3001/api/protected/random-quote")},e.prototype._callApi=function(e,t){var n=this;this.response=null,"Anonymous"===e&&this.http.get(t).subscribe(function(e){return n.response=e.text()},function(e){return n.response=e.text()}),"Secured"===e&&this.authHttp.get(t).subscribe(function(e){return n.response=e.text()},function(e){return n.response=e.text()})},e=o([i.Component({selector:"home",directives:[p.Editor,s.CORE_DIRECTIVES],template:u,styles:[d]}),r("design:paramtypes",[l.Router,a.Http,c.AuthHttp])],e)}();t.Home=h},532:function(e,t,n){"use strict";var o=n(153),r=n(4),i=n(20),s=n(21),a=n(18),c=n(45);n(231);var l=n(526);o.bootstrap(l.App,[i.FORM_PROVIDERS,s.ROUTER_PROVIDERS,a.HTTP_PROVIDERS,r.provide(c.AuthHttp,{useFactory:function(e){return new c.AuthHttp(new c.AuthConfig({tokenName:"jwt"}),e)},deps:[a.Http]})])},533:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(3>i?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},i=n(4),s=n(21),a=n(20),c=n(18),l=n(151),p=n(319),d=n(320),u=n(139),h=function(){function e(e,t){this.router=e,this.http=t}return e.prototype.login=function(e,t,n){var o=this;e.preventDefault();var r=JSON.stringify({username:t,password:n});this.http.post(u.domain+":"+u.port+"/sessions/create",r,{headers:l.contentHeaders}).subscribe(function(e){localStorage.setItem("jwt",e.json().id_token),o.router.parent.navigateByUrl("/home"),$(".login").hide(),$(".logout").show(),$(".signup").hide()},function(e){alert(e.text()),console.log(e.text())})},e.prototype.signup=function(e){e.preventDefault(),this.router.parent.navigateByUrl("/signup")},e=o([i.Component({selector:"login",directives:[s.RouterLink,a.CORE_DIRECTIVES,a.FORM_DIRECTIVES],template:d,styles:[p]}),r("design:paramtypes",[s.Router,c.Http])],e)}();t.Login=h},534:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(3>i?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){
return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},i=n(4),s=n(21),a=n(20),c=n(18),l=n(151),p=n(321),d=n(322),u=n(139),h=function(){function e(e,t){this.router=e,this.http=t}return e.prototype.signup=function(e,t,n){var o=this;e.preventDefault();var r=JSON.stringify({username:t,password:n});this.http.post(u.domain+":"+u.port+"/users",r,{headers:l.contentHeaders}).subscribe(function(e){localStorage.setItem("jwt",e.json().id_token),o.router.parent.navigateByUrl("/home")},function(e){alert(e.text()),console.log(e.text())})},e.prototype.login=function(e){e.preventDefault(),this.router.parent.navigateByUrl("/login")},e=o([i.Component({selector:"signup",directives:[s.RouterLink,a.CORE_DIRECTIVES,a.FORM_DIRECTIVES],template:d,styles:[p]}),r("design:paramtypes",[s.Router,c.Http])],e)}();t.Signup=h}});